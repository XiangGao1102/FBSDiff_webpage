<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>FBSDiff-ACMMM2024</title>
    <style type="text/css">
        body{
        	background-color: white;
        }
        .links{
        	text-decoration: none;
        	color: #0066CC;
        }
        .p2{
        	padding-top: 20px;
        	font-size: 25px;
        }
        .p1{
        	text-align:justify;
        	text-justify:inter-ideograph;
        }
		
		.left {
			text-align: left;
			border: 1px dotted black;
			width: 50%;
		}
        a{
        	font-family: Sans-serif;
        }
        p{
        	font-family: Sans-serif;
        }
        ul{
        	font-family: Sans-serif;
        }
    </style>
</head>
<body>
	<div align="center" style="padding-top: 30px; padding-bottom: 20px">
	<p style="font-size:35px;">FBSDiff: Plug-and-Play Frequency Band Substitution of Diffusion Features </p>
	<p style="font-size:35px;"> for Highly Controllable Text-Driven Image Translation </p>

	<a href="mailto:gaoxiang1102@pku.edu.cn" class="links">Xiang Gao</a> &nbsp; &nbsp; 
	<a href="mailto:liujiaying@pku.edu.cn" class="links">Jiaying Liu</a>

	<br>
	<p class="para-3"><span class="p1"> Wangxuan Institute of Computer Technology, Peking University</span></p>
	<p class="para-3"><span class="p1"> Accepted by <i>ACMMM 2024.</i></span></p>
	
	
	</div>
	
	
	<div style="padding-left: 15%; padding-right: 15%; padding-bottom: 10px">
                <div align="center">
                    <img src="imgs/teaser.jpg" width="100%"> <br>
                </div>
            <p class='p1'>Based on the pre-trained text-to-image diffusion model, FBSDiff enables efficient text-driven image-to-image translation by proposing a plug-and-play reference image guidance mechanism. It allows flexible control over different guiding factors (e.g., image appearance, image layout, image contours) of the reference image to the T2I generated image, simply by dynamically substituting different types of DCT frequency bands during the reverse sampling process of the diffusion model.</p>
	    </div>
	   
	<div style="padding-left: 15%; padding-right: 15%; padding-bottom: 10px">
            <p class='p2'> Resources </p> 
	    <p class='p1'>
		<ul style="line-height:15px">
		　　<li> <a href="" class="links"><a href="https://arxiv.org/pdf/2408.00998">arXiv</a> </li>
		　　<li> <a href="https://github.com/XiangGao1102/FBSDiff" class="links">Code</a> </li>
		</ul>
	</p>
	</div>
	    

        <div align="left" style="padding-left: 15%; padding-right: 15%; padding-bottom: 10px;">
		<p class='p2'> Abstract </p> 
		<p class='p1'>Large-scale text-to-image diffusion models have been a revolutionary milestone in the evolution of generative AI and multimodal technology, allowing wonderful image generation with natural-language text prompt. However, the issue of lacking controllability of such models restricts their practical applicability for real-life content creation. Thus, attention has been focused on leveraging a reference image to control text-to-image synthesis, which is also regarded as manipulating (or editing) a reference image as per a text prompt, namely, text-driven image-to-image translation. This paper contributes a novel, concise, and efficient approach that adapts pre-trained large-scale text-to-image (T2I) diffusion model to the image-to-image (I2I) paradigm in a plug-and-play manner, realizing high-quality and versatile text-driven I2I translation without any model training, model fine-tuning, or online optimization process. To guide T2I generation with a reference image, we propose to decompose diverse guiding factors with different frequency bands of diffusion features in the DCT spectral space, and accordingly devise a novel frequency band substitution layer which realizes dynamic control of the reference image to the T2I generation result in a plug-and-play manner. We demonstrate that our method allows flexible control over both guiding factor and guiding intensity of the reference image simply by tuning the type and bandwidth of the substituted frequency band, respectively. Extensive qualitative and quantitative experiments verify superiority of our approach over related methods in I2I translation visual quality, versatility, and controllability. The code is publicly available at: https://github.com/XiangGao1102/FBSDiff.
		</p>
	 </div>
       
       <div align="left" style="padding-left: 15%; padding-right: 15%; padding-bottom: 10px;">
      		<p class='p2'> Contributions</p> 
			<p class='p1'>(1) We provide new insights about controllable diffusion process from a novel frequency-domain perspective.</p>
			<p class='p1'>(2) We propose a novel frequency band substitution technique, realizing plug-and-play text-driven I2I translation without any model training, model fine-tuning, and online optimization process.</p>
			<p class='p1'>(3) We contribute a concise and efficient text-driven I2I framework that is free from source text and cumbersome attention modulations, highly controllable in both guiding factor and guiding intensity of the reference image, and invariant to the architecture of the used diffusion model backbone, all while achieving superior I2I translation performance compared with existing advanced methods.</p>
       </div>
			
       <div style="padding-left: 15%; padding-right: 15%; padding-bottom: 10px;">
       	<div align="left">
                    <p class='p2'> Model Overview </p> 
                </div>
		<div align="center">
                    <img src="imgs/method_overview.jpg" width="100%"> <br>
                    <p class='p1'>Overview of FBSDiff. Based on the pre-trained latent diffusion model (LDM), FBSDiff starts with an inversion trajectory that inverts reference image into the LDM Gaussian noise space, then a reconstruction trajectory is applied to reconstruct the reference image from the inverted Gaussian noise, providing intermediate denoising results as pivotal guidance features. The guidance features are leveraged to guide the text-driven sampling trajectory of the LDM to exert reference image control, which is realized by dynamically transplanting certain DCT frequency bands from diffusion features along the reconstruction trajectory into the corresponding features along the sampling trajectory. The dynamic DCT frequency band transplantation is implemented in a plug-and-play manner with our proposed frequency band substitution layer (FBS layer). </p>
                </div>
       </div>
       
       
	<div style="padding-left: 15%; padding-right: 15%; padding-bottom: 10px;">
       	<div align="left">
                    <p class='p2'> Results </p> 
                </div>
		<div align="center">
                    <img src="imgs/results.jpg" width="100%"> <br>
                    <p class='p1'>Qualitative results of our method with different types of frequency band substitution. For low-frequency band substitution (low-FBS), the generated image is controlled by the reference image in terms of image appearance and layout; for high-frequency band substitution (high-FBS), the reference image controls image contours of the generated image; as for mid-frequency band substitution (mid-FBS), only image layout of the generated image is controlled by the reference image. Better viewed with zoom-in.</p>
                </div>
       </div>
</html>
